<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Concept Rides - POS & Inventory</title>
  <style>
    /* === GLOBAL STYLES === */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #1a2a3a, #0d1b2a);
      color: #e0e0e0;
      padding: 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 30px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.4);
      border-radius: 10px;
    }

    header h1 {
      font-size: 2.4rem;
      color: #4CAF50;
      margin-bottom: 5px;
    }

    header p {
      opacity: 0.8;
    }

    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .tab {
      padding: 10px 20px;
      background: #2c3e50;
      border: none;
      color: #ecf0f1;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
    }

    .tab.active {
      background: #4CAF50;
      color: white;
    }

    .tab:hover:not(.active) {
      background: #34495e;
    }

    .form-section {
      display: none;
      background: rgba(30, 40, 50, 0.8);
      border-radius: 10px;
      padding: 25px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
      margin-bottom: 30px;
    }

    .form-section.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2 {
      color: #4CAF50;
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.8rem;
    }

    /* === FORM STYLING === */
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      color: #a3b1c2;
    }

    label.required::after {
      content: " *";
      color: #e74c3c;
    }

    input, select, textarea, button {
      width: 100%;
      padding: 12px;
      border: 1px solid #3a4a5a;
      border-radius: 6px;
      background: #1e2a38;
      color: white;
      font-size: 15px;
      transition: all 0.3s;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #4CAF50;
      box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.3);
    }

    .error-message {
      color: #ff6b6b;
      font-size: 13px;
      margin-top: 5px;
      min-height: 18px;
      display: none;
    }

    .error-message.visible {
      display: block;
    }

    /* Toggle/Switch */
    .toggle-container {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 52px;
      height: 26px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #3a4a5a;
      transition: .3s;
      border-radius: 26px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .3s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: #4CAF50;
    }

    input:checked + .slider:before {
      transform: translateX(26px);
    }

    /* Radio/Checkbox */
    .radio-group, .checkbox-group {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }

    .radio-option, .checkbox-option {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    input[type="radio"], input[type="checkbox"] {
      width: auto;
      accent-color: #4CAF50;
    }

    /* Buttons */
    .btn-group {
      display: flex;
      gap: 12px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    button {
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s;
      border: none;
    }

    .btn-primary {
      background: #4CAF50;
    }

    .btn-primary:hover {
      background: #45a049;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: #3498db;
    }

    .btn-secondary:hover {
      background: #2980b9;
    }

    .btn-outline {
      background: transparent;
      border: 1px solid #3a4a5a;
      color: #ecf0f1;
    }

    .btn-outline:hover {
      background: rgba(255, 255, 255, 0.08);
    }

    .btn-danger {
      background: #e74c3c;
    }

    .btn-danger:hover {
      background: #c0392b;
    }

    /* Table for POS */
    .cart-table {
      width: 100%;
      margin: 15px 0;
      border-collapse: collapse;
      background: #1a2938;
      border-radius: 8px;
      overflow: hidden;
    }

    .cart-table th {
      background: #2c3e50;
      text-align: left;
      padding: 12px;
      font-weight: 600;
    }

    .cart-table td {
      padding: 12px;
      border-bottom: 1px solid #2c3e50;
    }

    .cart-table tr:last-child td {
      border-bottom: none;
    }

    /* Feedback Rating - HORIZONTAL STARS */
    .rating {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 30px;
      color: #ddd;
    }

    .rating input {
      display: none;
    }

    .rating label {
      cursor: pointer;
      transition: color 0.2s;
    }

    .rating input:checked ~ label,
    .rating label:hover,
    .rating label:hover ~ label {
      color: #ffcc00;
    }

    /* Password Strength Meter */
    .password-strength {
      height: 5px;
      background: #3a4a5a;
      border-radius: 3px;
      margin-top: 5px;
      overflow: hidden;
    }

    .strength-meter {
      height: 100%;
      width: 0%;
      transition: width 0.3s, background 0.3s;
    }

    .strength-weak { background: #e74c3c; width: 33%; }
    .strength-medium { background: #f39c12; width: 66%; }
    .strength-strong { background: #4CAF50; width: 100%; }

    /* Responsive */
    @media (max-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
      
      .btn-group {
        flex-direction: column;
      }
      
      button {
        width: 100%;
      }
    }

    /* Toast Notification */
    #toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #27ae60;
      color: white;
      padding: 15px 25px;
      border-radius: 6px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      transform: translateX(200%);
      transition: transform 0.4s ease;
      z-index: 1000;
    }

    #toast.show {
      transform: translateX(0);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üèçÔ∏è Concept Rides</h1>
      <p>Motorcycle Parts & Accessories | POS & Inventory System</p>
    </header>

    <div class="tabs">
      <button class="tab active" data-tab="login">üîê Login</button>
      <button class="tab" data-tab="product">üì¶ Product Form</button>
      <button class="tab" data-tab="pos">üí∞ POS Transaction</button>
      <button class="tab" data-tab="feedback">üí¨ Feedback</button>
      <button class="tab" data-tab="inventory">üì¶ Inventory Management</button>
      <button class="tab" data-tab="profile">üë§ Profile</button>
    </div>

    <!-- Login Form (Supporting Form 1) -->
    <div id="login" class="form-section active">
      <h2>Staff Login</h2>
      <form id="loginForm" novalidate>
        <div class="form-grid">
          <div class="form-group">
            <label for="loginEmail" class="required">Email</label>
            <input type="email" id="loginEmail" name="email" required 
                   placeholder="staff@conceptrides.com" tabindex="1">
            <div class="error-message" id="loginEmailError"></div>
          </div>

          <div class="form-group">
            <label for="loginPassword" class="required">Password</label>
            <input type="password" id="loginPassword" name="password" required 
                   placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" tabindex="2">
            <div class="error-message" id="loginPasswordError"></div>
            <div class="password-strength">
              <div class="strength-meter" id="passwordStrength"></div>
            </div>
          </div>
        </div>

        <div class="form-group checkbox-group">
          <div class="checkbox-option">
            <input type="checkbox" id="rememberMe" name="remember" tabindex="3">
            <label for="rememberMe">Remember me</label>
          </div>
        </div>

        <div class="btn-group">
          <button type="submit" class="btn-primary" tabindex="4">Log In</button>
          <button type="button" class="btn-outline" id="guestBtn" tabindex="5">Guest Access</button>
        </div>
      </form>
    </div>

    <!-- Product Form (Major Form 1) -->
    <div id="product" class="form-section">
      <h2>Add/Edit Product</h2>
      <form id="productForm" novalidate>
        <input type="hidden" id="productId">

        <div class="form-grid">
          <div class="form-group">
            <label for="productName" class="required">Product Name</label>
            <input type="text" id="productName" name="name" required maxlength="100"
                   placeholder="e.g., Honda Brake Pad - Front" tabindex="6">
            <div class="error-message" id="productNameError"></div>
          </div>

          <div class="form-group">
            <label for="category" class="required">Category</label>
            <select id="category" name="category" required tabindex="7">
              <option value="">Select Category</option>
              <option value="parts">Parts</option>
              <option value="accessories">Accessories</option>
              <option value="apparel">Apparel</option>
              <option value="tools">Tools</option>
            </select>
            <div class="error-message" id="categoryError"></div>
          </div>

          <div class="form-group">
            <label for="price" class="required">Price (PHP)</label>
            <input type="number" id="price" name="price" required min="0.01" step="0.01"
                   placeholder="0.00" tabindex="8">
            <div class="error-message" id="priceError"></div>
          </div>

          <div class="form-group">
            <label for="stock" class="required">Stock Quantity</label>
            <input type="number" id="stock" name="stock" required min="0"
                   placeholder="0" tabindex="9">
            <div class="error-message" id="stockError"></div>
          </div>

          <div class="form-group">
            <label for="sku">SKU / Part Number</label>
            <input type="text" id="sku" name="sku" maxlength="50"
                   placeholder="e.g., HND-BP-F-001" tabindex="10">
          </div>

          <div class="form-group">
            <label for="warrantyExpiry">Warranty Expiry Date</label>
            <input type="date" id="warrantyExpiry" name="warranty" min="" max="" tabindex="11">
          </div>

          <div class="form-group">
            <label>Active Status</label>
            <div class="toggle-container">
              <label class="toggle-switch">
                <input type="checkbox" id="isActive" name="active" checked tabindex="12">
                <span class="slider"></span>
              </label>
              <span>Active</span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea id="description" name="description" rows="3" maxlength="500"
                    placeholder="Product details, compatibility, etc." tabindex="13"></textarea>
        </div>

        <div class="form-group">
          <label for="image">Product Image (Optional)</label>
          <input type="file" id="image" name="image" accept="image/*" tabindex="14">
          <small style="color:#7f8c8d; display:block; margin-top:5px;">
            Supported: JPG, PNG, GIF (max 5MB)
          </small>
        </div>

        <div class="btn-group">
          <button type="submit" class="btn-primary" tabindex="15">üíæ Save Product</button>
          <button type="reset" class="btn-outline" tabindex="16">‚Ü∫ Reset</button>
          <button type="button" class="btn-danger" id="cancelProduct" tabindex="17">‚úï Cancel</button>
        </div>
      </form>
    </div>

    <!-- POS Form (Major Form 2) -->
    <div id="pos" class="form-section">
      <h2>Point of Sale</h2>
      <form id="posForm" novalidate>
        <div class="form-grid">
          <div class="form-group">
            <label for="customerName">Customer Name</label>
            <input type="text" id="customerName" name="customer" maxlength="100"
                   placeholder="Walk-in or enter name" tabindex="18">
          </div>

          <div class="form-group">
            <label for="searchProduct">Search Product</label>
            <input type="text" id="searchProduct" placeholder="Type product name..." tabindex="19">
            <div id="productSuggestions" style="background:#1a2938; border:1px solid #3a4a5a; border-radius:4px; margin-top:5px; display:none;"></div>
          </div>

          <div class="form-group">
            <label for="productCategoryFilter">Filter by Category</label>
            <select id="productCategoryFilter" name="categoryFilter" tabindex="20">
              <option value="">All Categories</option>
              <option value="parts">Parts</option>
              <option value="accessories">Accessories</option>
              <option value="apparel">Apparel</option>
              <option value="tools">Tools</option>
            </select>
          </div>
        </div>

        <!-- Cart Table -->
        <table class="cart-table">
          <thead>
            <tr>
              <th>Product</th>
              <th>Price</th>
              <th>Qty</th>
              <th>Subtotal</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="cartItems">
            <tr>
              <td colspan="5" style="text-align:center; color:#7f8c8d;">
                No items added yet
              </td>
            </tr>
          </tbody>
        </table>

        <div class="form-grid">
          <div class="form-group">
            <label class="required">Payment Method</label>
            <div class="radio-group">
              <div class="radio-option">
                <input type="radio" id="cash" name="payment" value="cash" required checked tabindex="21">
                <label for="cash">Cash</label>
              </div>
              <div class="radio-option">
                <input type="radio" id="gcash" name="payment" value="gcash" tabindex="22">
                <label for="gcash">GCash</label>
              </div>
              <div class="radio-option">
                <input type="radio" id="card" name="payment" value="card" tabindex="23">
                <label for="card">Card</label>
              </div>
            </div>
            <div class="error-message" id="paymentError"></div>
          </div>

          <div class="form-group">
            <label for="amountTendered" class="required">Amount Tendered (PHP)</label>
            <input type="number" id="amountTendered" name="tendered" min="0" step="0.01"
                   placeholder="0.00" tabindex="24">
            <div class="error-message" id="amountTenderedError"></div>
          </div>

          <div class="form-group">
            <label for="discount">Discount (%)</label>
            <input type="number" id="discount" name="discount" min="0" max="100" step="0.5"
                   placeholder="0.0" tabindex="25">
          </div>

          <div class="form-group">
            <label for="discountSlider">Discount Amount: <span id="discountValue">0</span>%</label>
            <input type="range" id="discountSlider" name="discountSlider" min="0" max="50" step="0.5" value="0" tabindex="26">
          </div>

          <div class="form-group">
            <label for="receiptEmail">Email Receipt</label>
            <input type="email" id="receiptEmail" name="email" 
                   placeholder="customer@email.com" tabindex="27">
            <div class="error-message" id="receiptEmailError"></div>
          </div>
        </div>

        <div class="form-group">
          <label for="notes">Notes</label>
          <textarea id="notes" name="notes" rows="2" maxlength="200"
                    placeholder="Special instructions, warranty info, etc." tabindex="28"></textarea>
        </div>

        <div class="btn-group">
          <button type="button" class="btn-secondary" id="addNewItem" tabindex="29">+ Add Item</button>
          <button type="submit" class="btn-primary" tabindex="30">‚úÖ Complete Sale</button>
          <button type="button" class="btn-danger" id="clearCart" tabindex="31">üóëÔ∏è Clear Cart</button>
        </div>
      </form>
    </div>

    <!-- Feedback Form (Supporting Form 2) -->
    <div id="feedback" class="form-section">
      <h2>Customer Feedback</h2>
      <form id="feedbackForm" novalidate>
        <div class="form-group">
          <label class="required">How would you rate your experience?</label>
          <div class="rating">
            <input type="radio" id="star1" name="rating" value="1" required tabindex="32">
            <label for="star1">‚òÖ</label>
            <input type="radio" id="star2" name="rating" value="2" tabindex="33">
            <label for="star2">‚òÖ</label>
            <input type="radio" id="star3" name="rating" value="3" tabindex="34">
            <label for="star3">‚òÖ</label>
            <input type="radio" id="star4" name="rating" value="4" tabindex="35">
            <label for="star4">‚òÖ</label>
            <input type="radio" id="star5" name="rating" value="5" tabindex="36">
            <label for="star5">‚òÖ</label>
          </div>
          <div class="error-message" id="ratingError"></div>
        </div>

        <div class="form-grid">
          <div class="form-group">
            <label for="fbType" class="required">Feedback Type</label>
            <select id="fbType" name="type" required tabindex="37">
              <option value="">Select type</option>
              <option value="compliment">Compliment</option>
              <option value="suggestion">Suggestion</option>
              <option value="complaint">Complaint</option>
              <option value="general">General</option>
            </select>
            <div class="error-message" id="fbTypeError"></div>
          </div>

          <div class="form-group">
            <label for="fbSubject" class="required">Subject</label>
            <input type="text" id="fbSubject" name="subject" required maxlength="100"
                   placeholder="Brief summary" tabindex="38">
            <div class="error-message" id="fbSubjectError"></div>
          </div>
        </div>

        <div class="form-group">
          <label for="fbDetails" class="required">Details</label>
          <textarea id="fbDetails" name="details" rows="4" required maxlength="500"
                    placeholder="Please share your feedback in detail..." tabindex="39"></textarea>
          <div class="error-message" id="fbDetailsError"></div>
        </div>

        <div class="form-grid">
          <div class="form-group">
            <label for="fbName">Your Name (Optional)</label>
            <input type="text" id="fbName" name="name" maxlength="100"
                   placeholder="Anonymous if left blank" tabindex="40">
          </div>

          <div class="form-group">
            <label for="fbEmail">Email (Optional)</label>
            <input type="email" id="fbEmail" name="email"
                   placeholder="contact@email.com" tabindex="41">
          </div>
        </div>

        <div class="btn-group">
          <button type="submit" class="btn-primary" tabindex="42">üì§ Submit Feedback</button>
          <button type="reset" class="btn-outline" tabindex="43">‚Ü∫ Clear</button>
        </div>
      </form>
    </div>

    <!-- Inventory Management Form (Additional Major Form) -->
    <div id="inventory" class="form-section">
      <h2>Inventory Management</h2>
      <form id="inventoryForm" novalidate>
        <div class="form-grid">
          <div class="form-group">
            <label for="lowStockThreshold" class="required">Low Stock Threshold</label>
            <input type="number" id="lowStockThreshold" name="threshold" min="1" required tabindex="44">
            <div class="error-message" id="lowStockThresholdError"></div>
          </div>
          <div class="form-group">
            <label for="reorderLevel" class="required">Reorder Level</label>
            <input type="number" id="reorderLevel" name="reorder" min="1" required tabindex="45">
            <div class="error-message" id="reorderLevelError"></div>
          </div>
          <div class="form-group">
            <label for="supplier">Supplier</label>
            <input type="text" id="supplier" name="supplier" list="supplierList" tabindex="46">
            <datalist id="supplierList">
              <option value="Honda Philippines">
              <option value="Yamaha Philippines">
              <option value="Aftermarket Parts Inc.">
              <option value="Kawasaki Distributors">
              <option value="Bajaj Philippines">
            </datalist>
          </div>
          <div class="form-group">
            <label for="leadTime">Lead Time (Days)</label>
            <input type="number" id="leadTime" name="leadTime" min="1" max="365" tabindex="47">
          </div>
          <div class="form-group">
            <label for="minOrderQty">Minimum Order Quantity</label>
            <input type="number" id="minOrderQty" name="minOrderQty" min="1" tabindex="48">
          </div>
          <div class="form-group">
            <label for="deliveryDate">Expected Delivery Date</label>
            <input type="date" id="deliveryDate" name="deliveryDate" tabindex="49">
          </div>
        </div>

        <div class="form-group">
          <label>Alert Settings</label>
          <div class="checkbox-group">
            <div class="checkbox-option">
              <input type="checkbox" id="emailAlerts" name="alerts" value="email" checked tabindex="50">
              <label for="emailAlerts">Email Alerts</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="smsAlerts" name="alerts" value="sms" tabindex="51">
              <label for="smsAlerts">SMS Alerts</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="lowStockAlerts" name="alerts" value="lowStock" checked tabindex="52">
              <label for="lowStockAlerts">Low Stock Alerts</label>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="notesInventory">Notes</label>
          <textarea id="notesInventory" name="notesInventory" rows="3" maxlength="300" tabindex="53"
                    placeholder="Additional inventory notes..."></textarea>
        </div>

        <div class="btn-group">
          <button type="submit" class="btn-primary" tabindex="54">üíæ Save Settings</button>
          <button type="reset" class="btn-outline" tabindex="55">‚Ü∫ Reset</button>
        </div>
      </form>
    </div>

    <!-- Profile Management Form (Additional Supporting Form) -->
    <div id="profile" class="form-section">
      <h2>User Profile</h2>
      <form id="profileForm" novalidate>
        <div class="form-grid">
          <div class="form-group">
            <label for="firstName" class="required">First Name</label>
            <input type="text" id="firstName" name="firstName" required maxlength="50" tabindex="56">
            <div class="error-message" id="firstNameError"></div>
          </div>
          <div class="form-group">
            <label for="lastName" class="required">Last Name</label>
            <input type="text" id="lastName" name="lastName" required maxlength="50" tabindex="57">
            <div class="error-message" id="lastNameError"></div>
          </div>
          <div class="form-group">
            <label for="employeeId">Employee ID</label>
            <input type="text" id="employeeId" name="employeeId" readonly tabindex="58">
          </div>
          <div class="form-group">
            <label for="position">Position</label>
            <select id="position" name="position" tabindex="59">
              <option value="cashier">Cashier</option>
              <option value="manager">Manager</option>
              <option value="admin">Administrator</option>
              <option value="technician">Technician</option>
            </select>
          </div>
          <div class="form-group">
            <label for="profileEmail" class="required">Email</label>
            <input type="email" id="profileEmail" name="email" required tabindex="60">
            <div class="error-message" id="profileEmailError"></div>
          </div>
          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" name="phone" pattern="[0-9]{10,11}" tabindex="61">
          </div>
        </div>

        <div class="form-grid">
          <div class="form-group">
            <label for="passwordNew">New Password</label>
            <input type="password" id="passwordNew" name="passwordNew" placeholder="Leave blank to keep current" tabindex="62">
            <div class="password-strength">
              <div class="strength-meter" id="profilePasswordStrength"></div>
            </div>
          </div>
          <div class="form-group">
            <label for="passwordConfirm">Confirm New Password</label>
            <input type="password" id="passwordConfirm" name="passwordConfirm" placeholder="Confirm new password" tabindex="63">
            <div class="error-message" id="passwordConfirmError"></div>
          </div>
        </div>

        <div class="form-group">
          <label for="bio">Bio</label>
          <textarea id="bio" name="bio" rows="3" maxlength="200" tabindex="64"
                    placeholder="Tell us about yourself..."></textarea>
        </div>

        <div class="form-group">
          <label for="profileImage">Profile Picture</label>
          <input type="file" id="profileImage" name="profilePic" accept="image/*" tabindex="65">
        </div>

        <div class="form-group">
          <label>Notifications</label>
          <div class="checkbox-group">
            <div class="checkbox-option">
              <input type="checkbox" id="emailNotifications" name="notifications" value="email" checked tabindex="66">
              <label for="emailNotifications">Email Notifications</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="smsNotifications" name="notifications" value="sms" tabindex="67">
              <label for="smsNotifications">SMS Notifications</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="pushNotifications" name="notifications" value="push" checked tabindex="68">
              <label for="pushNotifications">Push Notifications</label>
            </div>
          </div>
        </div>

        <div class="btn-group">
          <button type="submit" class="btn-primary" tabindex="69">üíæ Update Profile</button>
          <button type="reset" class="btn-outline" tabindex="70">‚Ü∫ Reset</button>
        </div>
      </form>
    </div>

    <!-- Toast Notification -->
    <div id="toast">Operation successful!</div>
  </div>

  <script>
    // DOM Elements
    const tabs = document.querySelectorAll('.tab');
    const sections = document.querySelectorAll('.form-section');
    const toast = document.getElementById('toast');
    const productSuggestions = document.getElementById('productSuggestions');

    // Mock product database (simulated)
    const mockProducts = [
      { id: 1, name: "Honda Brake Pad (Front)", price: 850.00, category: "parts" },
      { id: 2, name: "Yamaha Oil Filter", price: 320.00, category: "parts" },
      { id: 3, name: "Full-Face Helmet - Matte Black", price: 2499.00, category: "apparel" },
      { id: 4, name: "Riding Gloves - Leather", price: 599.00, category: "apparel" },
      { id: 5, name: "LED Headlight Kit", price: 1200.00, category: "accessories" },
      { id: 6, name: "Chain Lubricant Spray", price: 210.00, category: "accessories" },
      { id: 7, name: "Torx Wrench Set", price: 899.00, category: "tools" }
    ];

    let cart = [];

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      setupEventListeners();
      loadProducts();
      setMinDate();
      setupPasswordStrength();
    });

    // Set minimum date for date inputs
    function setMinDate() {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('warrantyExpiry').min = today;
      document.getElementById('deliveryDate').min = today;
    }

    // Setup password strength meters
    function setupPasswordStrength() {
      const loginPassword = document.getElementById('loginPassword');
      const profilePassword = document.getElementById('passwordNew');
      
      loginPassword.addEventListener('input', (e) => checkPasswordStrength(e.target.value, 'passwordStrength'));
      profilePassword.addEventListener('input', (e) => checkPasswordStrength(e.target.value, 'profilePasswordStrength'));
    }

    function checkPasswordStrength(password, elementId) {
      const strengthMeter = document.getElementById(elementId);
      strengthMeter.className = 'strength-meter';
      
      if (password.length === 0) return;
      
      let strength = 0;
      if (password.length >= 8) strength++;
      if (/[A-Z]/.test(password)) strength++;
      if (/[a-z]/.test(password)) strength++;
      if (/[0-9]/.test(password)) strength++;
      if (/[^A-Za-z0-9]/.test(password)) strength++;
      
      if (strength < 3) {
        strengthMeter.classList.add('strength-weak');
      } else if (strength < 5) {
        strengthMeter.classList.add('strength-medium');
      } else {
        strengthMeter.classList.add('strength-strong');
      }
    }

    // Tab Navigation
    function setupEventListeners() {
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          const target = tab.dataset.tab;
          
          tabs.forEach(t => t.classList.remove('active'));
          sections.forEach(s => s.classList.remove('active'));
          
          tab.classList.add('active');
          document.getElementById(target).classList.add('active');
        });
      });

      // Form submissions
      document.getElementById('loginForm').addEventListener('submit', handleLogin);
      document.getElementById('productForm').addEventListener('submit', handleProduct);
      document.getElementById('posForm').addEventListener('submit', handlePOS);
      document.getElementById('feedbackForm').addEventListener('submit', handleFeedback);
      document.getElementById('inventoryForm').addEventListener('submit', handleInventory);
      document.getElementById('profileForm').addEventListener('submit', handleProfile);

      // POS-specific
      document.getElementById('searchProduct').addEventListener('input', searchProducts);
      document.getElementById('addNewItem').addEventListener('click', () => {
        document.getElementById('searchProduct').focus();
      });
      document.getElementById('clearCart').addEventListener('click', clearCart);
      document.getElementById('guestBtn').addEventListener('click', guestLogin);
      document.getElementById('cancelProduct').addEventListener('click', () => {
        if (confirm('Discard changes?')) document.getElementById('productForm').reset();
      });

      // Keyboard navigation: Press Enter in search to add first result
      document.getElementById('searchProduct').addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && productSuggestions.children.length > 0) {
          productSuggestions.children[0].click();
        }
      });

      // Discount slider
      document.getElementById('discountSlider').addEventListener('input', function() {
        document.getElementById('discountValue').textContent = this.value;
        document.getElementById('discount').value = this.value;
      });

      document.getElementById('discount').addEventListener('input', function() {
        document.getElementById('discountSlider').value = this.value;
        document.getElementById('discountValue').textContent = this.value;
      });

      // Category filter
      document.getElementById('productCategoryFilter').addEventListener('change', filterProducts);
    }

    // === FORM HANDLERS ===

    function handleLogin(e) {
      e.preventDefault();
      const email = document.getElementById('loginEmail').value.trim();
      const password = document.getElementById('loginPassword').value;
      
      let valid = true;

      // Validation
      if (!email) {
        showError('loginEmailError', 'Email is required');
        valid = false;
      } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        showError('loginEmailError', 'Invalid email format');
        valid = false;
      } else {
        clearError('loginEmailError');
      }

      if (!password) {
        showError('loginPasswordError', 'Password is required');
        valid = false;
      } else if (password.length < 6) {
        showError('loginPasswordError', 'Password must be at least 6 characters');
        valid = false;
      } else {
        clearError('loginPasswordError');
      }

      if (valid) {
        // Simulate login
        if (email === 'admin@conceptrides.com' && password === 'concept123') {
          showSuccess('Login successful! Welcome back, Admin.');
          document.getElementById('loginForm').reset();
        } else {
          showError('loginPasswordError', 'Invalid credentials. Try: admin@conceptrides.com / concept123');
        }
      }
    }

    function handleProduct(e) {
      e.preventDefault();
      const name = document.getElementById('productName').value.trim();
      const category = document.getElementById('category').value;
      const price = parseFloat(document.getElementById('price').value);
      const stock = parseInt(document.getElementById('stock').value);
      
      let valid = true;

      if (!name) {
        showError('productNameError', 'Product name is required');
        valid = false;
      } else if (name.length < 3) {
        showError('productNameError', 'Name must be at least 3 characters');
        valid = false;
      } else {
        clearError('productNameError');
      }

      if (!category) {
        showError('categoryError', 'Please select a category');
        valid = false;
      } else {
        clearError('categoryError');
      }

      if (isNaN(price) || price <= 0) {
        showError('priceError', 'Valid price > 0 required');
        valid = false;
      } else {
        clearError('priceError');
      }

      if (isNaN(stock) || stock < 0) {
        showError('stockError', 'Stock must be 0 or more');
        valid = false;
      } else {
        clearError('stockError');
      }

      if (valid) {
        // Simulate saving to DB
        const product = {
          id: Date.now(),
          name,
          category,
          price: price.toFixed(2),
          stock,
          sku: document.getElementById('sku').value || null,
          active: document.getElementById('isActive').checked,
          description: document.getElementById('description').value || null,
          dateAdded: new Date().toISOString()
        };

        // Save to localStorage
        let products = JSON.parse(localStorage.getItem('products') || '[]');
        products.push(product);
        localStorage.setItem('products', JSON.stringify(products));

        showSuccess(`‚úÖ Product "${name}" saved successfully!`);
        document.getElementById('productForm').reset();
        document.getElementById('isActive').checked = true; // reset toggle
        setMinDate(); // reset date min
      }
    }

    function handlePOS(e) {
      e.preventDefault();
      
      if (cart.length === 0) {
        alert('‚ö†Ô∏è Cart is empty. Add at least one item.');
        return;
      }

      const paymentMethod = document.querySelector('input[name="payment"]:checked')?.value;
      const amountTendered = parseFloat(document.getElementById('amountTendered').value) || 0;
      const discount = parseFloat(document.getElementById('discount').value) || 0;
      const email = document.getElementById('receiptEmail').value;

      let valid = true;

      if (!paymentMethod) {
        showError('paymentError', 'Select a payment method');
        valid = false;
      } else {
        clearError('paymentError');
      }

      if (amountTendered <= 0) {
        showError('amountTenderedError', 'Enter amount tendered > 0');
        valid = false;
      } else {
        clearError('amountTenderedError');
      }

      // Validate email if provided
      if (email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        showError('receiptEmailError', 'Invalid email format');
        valid = false;
      } else {
        clearError('receiptEmailError');
      }

      // Calculate totals
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
      const discountAmt = (subtotal * discount) / 100;
      const total = subtotal - discountAmt;

      if (amountTendered < total) {
        showError('amountTenderedError', `Insufficient. Total: ‚Ç±${total.toFixed(2)}`);
        valid = false;
      }

      if (valid) {
        // Simulate transaction
        const transaction = {
          id: 'TXN-' + Date.now().toString().slice(-6),
          customer: document.getElementById('customerName').value || 'Walk-in',
          items: [...cart],
          payment: paymentMethod,
          subtotal: subtotal.toFixed(2),
          discount: discount,
          discountAmt: discountAmt.toFixed(2),
          total: total.toFixed(2),
          tendered: amountTendered.toFixed(2),
          change: (amountTendered - total).toFixed(2),
          notes: document.getElementById('notes').value || null,
          email: email || null,
          timestamp: new Date().toISOString()
        };

        // Save to localStorage
        let transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
        transactions.push(transaction);
        localStorage.setItem('transactions', JSON.stringify(transactions));

        showSuccess(`üéâ Sale completed! Transaction ID: ${transaction.id}`);
        
        // Reset form
        document.getElementById('posForm').reset();
        clearCart();
        document.getElementById('discountValue').textContent = '0';
        document.getElementById('discountSlider').value = '0';
      }
    }

    function handleFeedback(e) {
      e.preventDefault();
      
      const rating = document.querySelector('input[name="rating"]:checked')?.value;
      const type = document.getElementById('fbType').value;
      const subject = document.getElementById('fbSubject').value.trim();
      const details = document.getElementById('fbDetails').value.trim();
      
      let valid = true;

      if (!rating) {
        showError('ratingError', 'Please select a rating');
        valid = false;
      } else {
        clearError('ratingError');
      }

      if (!type) {
        showError('fbTypeError', 'Select feedback type');
        valid = false;
      } else {
        clearError('fbTypeError');
      }

      if (!subject) {
        showError('fbSubjectError', 'Subject is required');
        valid = false;
      } else {
        clearError('fbSubjectError');
      }

      if (!details) {
        showError('fbDetailsError', 'Details are required');
        valid = false;
      } else if (details.length < 10) {
        showError('fbDetailsError', 'Details must be at least 10 characters');
        valid = false;
      } else {
        clearError('fbDetailsError');
      }

      if (valid) {
        const feedback = {
          id: 'FB-' + Date.now().toString().slice(-6),
          rating: parseInt(rating),
          type,
          subject,
          details,
          name: document.getElementById('fbName').value || 'Anonymous',
          email: document.getElementById('fbEmail').value || null,
          timestamp: new Date().toISOString()
        };

        // Save
        let feedbacks = JSON.parse(localStorage.getItem('feedbacks') || '[]');
        feedbacks.push(feedback);
        localStorage.setItem('feedbacks', JSON.stringify(feedbacks));

        showSuccess('üôè Thank you for your feedback! We appreciate it.');
        document.getElementById('feedbackForm').reset();
      }
    }

    function handleInventory(e) {
      e.preventDefault();
      
      const threshold = parseInt(document.getElementById('lowStockThreshold').value);
      const reorder = parseInt(document.getElementById('reorderLevel').value);
      
      let valid = true;

      if (isNaN(threshold) || threshold <= 0) {
        showError('lowStockThresholdError', 'Low stock threshold must be greater than 0');
        valid = false;
      } else {
        clearError('lowStockThresholdError');
      }

      if (isNaN(reorder) || reorder <= 0) {
        showError('reorderLevelError', 'Reorder level must be greater than 0');
        valid = false;
      } else {
        clearError('reorderLevelError');
      }

      if (valid) {
        const inventorySettings = {
          lowStockThreshold: threshold,
          reorderLevel: reorder,
          supplier: document.getElementById('supplier').value,
          leadTime: document.getElementById('leadTime').value || null,
          minOrderQty: document.getElementById('minOrderQty').value || null,
          deliveryDate: document.getElementById('deliveryDate').value || null,
          alerts: Array.from(document.querySelectorAll('input[name="alerts"]:checked')).map(cb => cb.value),
          notes: document.getElementById('notesInventory').value || null,
          timestamp: new Date().toISOString()
        };

        localStorage.setItem('inventorySettings', JSON.stringify(inventorySettings));
        showSuccess('üì¶ Inventory settings saved successfully!');
      }
    }

    function handleProfile(e) {
      e.preventDefault();
      
      const firstName = document.getElementById('firstName').value.trim();
      const lastName = document.getElementById('lastName').value.trim();
      const email = document.getElementById('profileEmail').value.trim();
      const newPassword = document.getElementById('passwordNew').value;
      const confirmPassword = document.getElementById('passwordConfirm').value;
      
      let valid = true;

      if (!firstName) {
        showError('firstNameError', 'First name is required');
        valid = false;
      } else {
        clearError('firstNameError');
      }

      if (!lastName) {
        showError('lastNameError', 'Last name is required');
        valid = false;
      } else {
        clearError('lastNameError');
      }

      if (!email) {
        showError('profileEmailError', 'Email is required');
        valid = false;
      } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        showError('profileEmailError', 'Invalid email format');
        valid = false;
      } else {
        clearError('profileEmailError');
      }

      if (newPassword && newPassword !== confirmPassword) {
        showError('passwordConfirmError', 'Passwords do not match');
        valid = false;
      } else {
        clearError('passwordConfirmError');
      }

      if (valid) {
        const profile = {
          firstName,
          lastName,
          email,
          position: document.getElementById('position').value,
          phone: document.getElementById('phone').value,
          bio: document.getElementById('bio').value,
          notifications: Array.from(document.querySelectorAll('input[name="notifications"]:checked')).map(cb => cb.value),
          lastUpdated: new Date().toISOString()
        };

        localStorage.setItem('userProfile', JSON.stringify(profile));
        showSuccess('üë§ Profile updated successfully!');
      }
    }

    // === HELPER FUNCTIONS ===

    function searchProducts() {
      const query = this.value.toLowerCase().trim();
      productSuggestions.innerHTML = '';
      
      if (query.length < 2) {
        productSuggestions.style.display = 'none';
        return;
      }

      const results = mockProducts.filter(p => 
        p.name.toLowerCase().includes(query) ||
        p.category.toLowerCase().includes(query)
      ).slice(0, 5);

      if (results.length === 0) {
        productSuggestions.innerHTML = '<div style="padding:10px;color:#7f8c8d;">No products found</div>';
        productSuggestions.style.display = 'block';
        return;
      }

      results.forEach(product => {
        const div = document.createElement('div');
        div.innerHTML = `${product.name} ‚Äî ‚Ç±${product.price.toFixed(2)}`;
        div.style.padding = '10px';
        div.style.cursor = 'pointer';
        div.style.borderBottom = '1px solid #2c3e50';
        div.addEventListener('click', () => {
          addToCart(product);
          document.getElementById('searchProduct').value = '';
          productSuggestions.style.display = 'none';
        });
        productSuggestions.appendChild(div);
      });

      productSuggestions.style.display = 'block';
    }

    function filterProducts() {
      const category = this.value;
      if (category) {
        showSuccess(`Filtering products by category: ${category}`);
      }
    }

    function addToCart(product) {
      const existing = cart.find(item => item.id === product.id);
      
      if (existing) {
        existing.qty += 1;
      } else {
        cart.push({
          id: product.id,
          name: product.name,
          price: product.price,
          qty: 1
        });
      }
      
      updateCartDisplay();
    }

    function updateCartDisplay() {
      const tbody = document.getElementById('cartItems');
      
      if (cart.length === 0) {
        tbody.innerHTML = '<tr><td colspan="5" style="text-align:center; color:#7f8c8d;">No items added yet</td></tr>';
        return;
      }

      tbody.innerHTML = cart.map((item, index) => `
        <tr>
          <td>${item.name}</td>
          <td>‚Ç±${item.price.toFixed(2)}</td>
          <td>
            <input type="number" min="1" value="${item.qty}" 
                   onchange="updateQty(${index}, this.value)" 
                   style="width:60px; padding:5px;">
          </td>
          <td>‚Ç±${(item.price * item.qty).toFixed(2)}</td>
          <td>
            <button type="button" onclick="removeFromCart(${index})" 
                    style="background:none; border:none; color:#e74c3c; cursor:pointer; font-size:18px;">‚úï</button>
          </td>
        </tr>
      `).join('');
    }

    function updateQty(index, value) {
      const qty = parseInt(value);
      if (qty >= 1) {
        cart[index].qty = qty;
        updateCartDisplay();
      }
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCartDisplay();
    }

    function clearCart() {
      if (cart.length === 0 || confirm('Clear all items from cart?')) {
        cart = [];
        updateCartDisplay();
      }
    }

    function guestLogin() {
      showSuccess('üîì Guest access granted. Limited features available.');
      // Switch to POS tab
      document.querySelector('.tab[data-tab="pos"]').click();
    }

    function showError(id, message) {
      const el = document.getElementById(id);
      el.textContent = message;
      el.classList.add('visible');
      // Highlight field
      const input = document.querySelector(`#${id.replace('Error', '')}`);
      if (input) input.classList.add('error-state');
    }

    function clearError(id) {
      const el = document.getElementById(id);
      el.classList.remove('visible');
      const input = document.querySelector(`#${id.replace('Error', '')}`);
      if (input) input.classList.remove('error-state');
    }

    function showSuccess(message) {
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    function loadProducts() {
      // For demo: pre-populate with 2 sample products
      if (!localStorage.getItem('products')) {
        const sampleProducts = [
          {
            id: 1001,
            name: "Sample Product - Brake Pad",
            category: "parts",
            price: "750.00",
            stock: 12,
            sku: "SAMPLE-BP-001",
            active: true,
            description: "High-quality brake pad for Japanese motorcycles.",
            dateAdded: new Date().toISOString()
          },
          {
            id: 1002,
            name: "Sample Helmet - Matte Black",
            category: "apparel",
            price: "2299.00",
            stock: 5,
            sku: "SAMPLE-HELMET-001",
            active: true,
            description: "ECE-certified full-face helmet.",
            dateAdded: new Date().toISOString()
          }
        ];
        localStorage.setItem('products', JSON.stringify(sampleProducts));
      }
    }

    // Expose cart functions to global scope for inline handlers
    window.updateQty = updateQty;
    window.removeFromCart = removeFromCart;
  </script>
</body>
</html>
